<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Dynamic Script Content</title>
		<!-- Favicon grabbed from zdist (my) GitHub Profile Photo -->
    	<link rel="icon" type="image/x-icon" href="https://avatars.githubusercontent.com/u/70993217?s=400&amp;u=c252d82e2c57cd011fcbf8a6a89729fcbc9d9026&amp;v=4">
		<link href="./styles.css" rel="stylesheet" />
	</head>
	<body>
		<h1>OT CMP QA</h1>
		<h3>What is OT CMP QA?</h3>
		<p>
			In short, OT CMP QA is a lot of acronyms bundled together. Let's
			break them down.
		</p>
		<br />
		<ul>
			<li><b>OT</b> stands for <b>O</b>ne<b>T</b>rust.</li>
			<li>
				<b>CMP</b> stands for <b>C</b>onsent <b>M</b>anagement
				<b>P</b>latform.
			</li>
			<li><b>QA</b> stands for <b>Q</b>uality <b>A</b>ssurance.</li>
		</ul>
		<p>
			OneTrust (<i>OT</i>) is a popular Consent Management Platform
			(<i>CMP</i>) used by many websites to manage user consent for
			cookies and data tracking in compliance with privacy regulations
			like GDPR and CCPA. This page is used to QA (<i>Quality Assurance</i
			>) the implementation of OneTrust's CMP on a website.
		</p>

		<table>
			<thead>
				<th>Name</th>
				<th>Body</th>
				<th>Footer</th>
			</thead>
			<tbody>
				<tr>
					<th><a href="#">CCPA / US Only</a></th>
					<td>INSERT SCRIPT HERE</td>
					<td>INSERT FOOTER HERE</td>
				</tr>
				<tr>
					<th><a href="#">GDPR / EU Only</a></th>
					<td>INSERT SCRIPT HERE</td>
					<td>INSERT FOOTER HERE</td>
				</tr>
				<tr>
					<th><a href="#">CCPA + GDPR IAB / US & EU Scoped</a></th>
					<td>INSERT SCRIPT HERE</td>
					<td>INSERT FOOTER HERE</td>
				</tr>
				<tr>
					<th><a href="#">Training | Test 1</a></th>
					<td>INSERT SCRIPT HERE</td>
					<td>INSERT FOOTER HERE</td>
				</tr>
				<tr>
					<th><a href="#">Training | Test 2</a></th>
					<td>INSERT SCRIPT HERE</td>
					<td>INSERT FOOTER HERE</td>
				</tr>
			</tbody>
		</table>

		<script type="text/javascript">
			// Adding fake cookies to the Page for testing purposes:
			const path = "example.com";

			const value1 = "Hello";
			const value2 = "World";
			const value3 = "Test";
			const value4 = "Testing";

			const testCookie1 = "test_cookie1";
			const cookie1 = (document.cookie =
				testCookie1 + "=" + value1 + "; path=" + path);

			const testCookie2 = "test_cookie2";
			const cookie2 = (document.cookie =
				testCookie2 + "=" + value2 + "; path=" + path);

			const testCookie3 = "test_cookie3";
			const cookie3 = (document.cookie =
				testCookie3 + "=" + value3 + "; path=" + path);

			const testCookie4 = "test_cookie4";
			const cookie4 = (document.cookie =
				testCookie4 + "=" + value4 + "; path=" + path);

			// Consent Status:
			var consentStatus = false; // Because this page dosen't take your data. Your welcome.

			// Versioning:
			var date = new Date();
			const year = date.getFullYear();
			const month = (date.getMonth() + 1).toString().padStart(2, "0"); // Months are two digits
			const day = date.getDay();
			var bi = 1; // 0 = first half of month, 1 = second half of month
			switch (true) {
				case day <= 15:
					bi = 0;
					break;
				case day > 15:
					bi = 1;
					break;
				default:
					bi = 0;
			}
			const version = year + "" + month + "." + bi + "." + "0";

			// Console Logs:
			console.info(
				"%cWelcome to OT CMP QA Log",
				"padding: 8px; background-color: #829cb2; color: white; font-style: italic; border: 1px solid black; font-size: 1.5em;"
			);

			console.info(
				"Script is for: %c" + path,
				"padding: 4px; 6px; font-style: italic; border: 2px solid #829cb2; font-size: 12px;"
			);

			// Version Info:
			console.info("Script Version Published: " + version);

			// Consent Model:
			console.info("The consent model is: " + "custom");

			// Consent Status:
			console.info(
				"Consent has " +
					(consentStatus ? "" : "not") +
					" been given " +
					(consentStatus ? "✅" : "❌")
			);

			// Category Status:
			console.groupCollapsed("Current Category Status");
			const categoryStatus = [
				{
					CustomGroupId: "1",
					GroupName: "Strictly Necessary",
					Status: "Always Active",
				},
				{
					CustomGroupId: "4",
					GroupName: "Functional",
					Status: "Inactive",
				},
				{
					CustomGroupId: "6",
					GroupName: "Information Storage",
					Status: "Inactive",
				},
				{
					CustomGroupId: "7",
					GroupName: "Content Selection",
					Status: "Inactive",
				},
				{
					CustomGroupId: "8",
					GroupName: "Social Media",
					Status: "Inactive",
				},
			];
			console.table(categoryStatus, [
				"CustomGroupId",
				"GroupName",
				"Status",
			]);
			console.groupEnd();

			// Geolocation & Template Info:
			const geolocation = "US";
			const georule = "US";
			const georuleGroup = "TEST Web US Geo Rule";
			const templateName = "TEST Web US Template";

			console.groupCollapsed("Geolocation and Template");
			console.info("The Geolocation is " + geolocation);
			console.info("The Geolocation rule is " + georule);
			console.info("The GeolocationRuleGroup is " + georuleGroup);
			console.info("The TemplateName is " + templateName);
			console.groupEnd();

			// Cookies Expected to be Blocked:
			console.groupCollapsed(
				"The cookies expected to be active if blocking has been implemented are"
			);

			const blockedCookies = [
				{ Name: testCookie1, Host: path },
				{ Name: testCookie2, Host: path },
				{ Name: testCookie3, Host: path },
				{ Name: testCookie4, Host: path },
			];
			console.table(blockedCookies, ["Name", "Host"]);

			console.groupEnd();

			// Instructions:
			console.groupCollapsed(
				"Here you will learn how to implement OT CMP Scripts onto a website."
			);
			console.log(
				" \u2022 Choose one of the links in the table to get started."
			);
			console.log(
				" \u2022 I reccomend familiarizing yourself with the first three."
			);
			console.log(
				" \u2022 Test 1 & 2 are for you to learn how to debug common errors found in scripts that have been implemented on websites..."
			);
			console.log(" \u2022 Can you find all the errors?");
			console.groupEnd();
		</script>
	</body>
</html>
